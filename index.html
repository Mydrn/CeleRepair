<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<title>引导页入口</title>
		<link href="css/mui.min.css" rel="stylesheet" />
		<style type="text/css">
			body {
				background-color: #ccc;
			}
		</style>
	</head>

	<body>
		<div class="mui-content">
			<div class="mui-slider mui-fullscreen">
				<div class="mui-slider-group">
					<div class="mui-slider-item mui-text-center">
						<a href="javascript:;">
								<button class="mui-btn f-white bg-orange" type="button" id="start">开始体验</button>
						</a>
					</div>
				</div>
			</div>
		<script src="js/mui.min.js"></script>
		<script type="text/javascript" charset="utf-8">
			mui.init();
			mui.plusReady(function() {
				/**
				 * 获取本地存储中launchFlag的值
				 * http://www.html5plus.org/doc/zh_cn/storage.html#plus.storage.getItem
				 * 若存在，说明不是首次启动，直接进入首页；
				 * 若不存在，说明是首次启动，进入引导页；
				 */
				var launchFlag = plus.storage.getItem("launchFlag");
				if(launchFlag) {
					mui.openWindow({
						url: "./main.html",
						id: "main",
						extras: {
							mark: "index" //额外的参数，仅仅是个标识，实际开发中不用；
						}
					});
				} else {
					mui.openWindow({
						url: "guide.html",
						id: "guide"
					});
				}
				document.getElementById("start").addEventListener("tap", function() {
					/**
					 * 向本地存储中设置launchFlag的值，即启动标识；
					 * http://www.html5plus.org/doc/zh_cn/storage.html#plus.storage.setItem
					 */
					plus.storage.setItem("launchFlag", "true");
					mui.openWindow({
						url: "main.html",
						id: "main",
						extras: {
							mark: "gudie" //同样，这里也只是个标识，实际开发中并不用；
						}
					});
				});
			});
		</script>
	</body>

</html>